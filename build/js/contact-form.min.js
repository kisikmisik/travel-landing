"use strict";{const e=12,t="+7",i=document.querySelector(".form"),r=i.querySelector("#tel"),n=i.querySelector("#email"),o=document.querySelector(".popup--success"),l=o.querySelector(".popup__close"),a=o.querySelector(".popup__inner");let d={},u={};const s=()=>{window.utilitary.setInputValuesFromLocalStorage(r,n)},c=()=>{r.value.length<2&&window.utilitary.setInputValue(t,r),window.utilitary.resetInputError(r)},w=()=>{window.utilitary.resetInputError(n)},v=()=>{window.utilitary.validateTelNumber(r,d,e)},y=()=>{window.utilitary.validateEmail(n,d)},p=e=>{d.tel||d.email?e.preventDefault():(e.preventDefault(),o.classList.add("popup--show"),document.addEventListener("keydown",L),l.addEventListener("click",E),window.utilitary.setLocalStorage("tel",r.value,u),window.utilitary.setLocalStorage("email",n.value,u),i.reset())},L=e=>{window.utilitary.onEscButtonPressModalClose(e)},E=()=>{window.utilitary.onCloseButtonModalClose(o)},m=e=>{window.utilitary.onOverLayClickModalClose(o,a,e)};i.addEventListener("submit",p),r.addEventListener("change",v),r.addEventListener("blur",v),n.addEventListener("change",y),n.addEventListener("blur",y),r.addEventListener("focus",c),n.addEventListener("focus",w),o.addEventListener("click",m),window.addEventListener("load",s)}