"use strict";{const e=12,t="+7",i=document.querySelector(".form"),r=i.querySelector("#tel"),n=i.querySelector("#email"),l=document.querySelector(".popup--success"),o=l.querySelector(".popup__close"),a=l.querySelector(".popup__inner");let d={},u={};const s=()=>{window.utilitary.setInputValuesFromLocalStorage(r,n)},c=()=>{r.value.length<2&&window.utilitary.setInputValue(t,r),window.utilitary.resetInputError(r)},w=()=>{window.utilitary.resetInputError(n)},v=()=>{window.utilitary.validateTelNumber(r,d,e)},y=()=>{window.utilitary.validateEmail(n,d)},L=e=>{d.tel||d.email?e.preventDefault():(e.preventDefault(),l.classList.add("modal--show"),document.addEventListener("keydown",p),o.addEventListener("click",E),window.utilitary.setLocalStorage("tel",r.value,u),window.utilitary.setLocalStorage("email",n.value,u),i.reset())},p=e=>{window.utilitary.onEscButtonPressModalClose(e)},E=()=>{window.utilitary.onCloseButtonModalClose(l)},m=e=>{window.utilitary.onOverLayClickModalClose(l,a,e)};i.addEventListener("submit",L),r.addEventListener("change",v),r.addEventListener("blur",v),n.addEventListener("change",y),n.addEventListener("blur",y),r.addEventListener("focus",c),n.addEventListener("focus",w),l.addEventListener("click",m),window.addEventListener("load",s)}