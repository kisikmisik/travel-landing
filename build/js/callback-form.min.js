"use strict";{const e=12,t="+7",i=document.querySelector(".form"),l=i.querySelector("#tel"),r=i.querySelector("#email"),a=document.querySelector(".modal--success"),n=a.querySelector(".modal__close"),o=a.querySelector(".modal__inner");let d={},s={};const u=()=>{window.utilitary.setInputValuesFromLocalStorage(l,r)},c=()=>{l.value.length<2&&window.utilitary.setInputValue(t,l),window.utilitary.resetInputError(l)},w=()=>{window.utilitary.resetInputError(r)},v=()=>{window.utilitary.validateTelNumber(l,d,e)},y=()=>{window.utilitary.validateEmail(r,d)},L=e=>{d.tel||d.email?e.preventDefault():(e.preventDefault(),a.classList.add("modal--show"),document.addEventListener("keydown",m),n.addEventListener("click",E),window.utilitary.setLocalStorage("tel",l.value,s),window.utilitary.setLocalStorage("email",r.value,s),i.reset())},m=e=>{window.utilitary.onEscButtonPressModalClose(e)},E=()=>{window.utilitary.onCloseButtonModalClose(a)},S=e=>{window.utilitary.onOverLayClickModalClose(a,o,e)};i.addEventListener("submit",L),l.addEventListener("change",v),l.addEventListener("blur",v),r.addEventListener("change",y),r.addEventListener("blur",y),l.addEventListener("focus",c),r.addEventListener("focus",w),a.addEventListener("click",S),window.addEventListener("load",u)}