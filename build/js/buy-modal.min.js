"use strict";{const e="+7",t=12,o=document.querySelectorAll(".button--buy"),i=document.querySelector(".popup--buy"),n=i.querySelector(".popup__close"),r=i.querySelector(".popup__inner"),l=r.querySelector(".popup__form"),a=l.querySelector(".popup__input--tel"),u=l.querySelector(".popup__input--email"),s=document.querySelector(".popup--success");let d={},c={};const p=e=>{e.preventDefault(),i.classList.contains("popup--show")||(i.classList.add("popup--show"),window.utilitary.setInputValuesFromLocalStorage(a,u)),document.addEventListener("keydown",w)},w=e=>{window.utilitary.onEscButtonPressModalClose(e)},y=()=>{window.utilitary.onCloseButtonModalClose(i)},v=e=>{window.utilitary.onOverLayClickModalClose(i,r,e)},L=()=>{a.value.length<2&&window.utilitary.setInputValue(e,a),window.utilitary.resetInputError(a)},E=()=>{window.utilitary.resetInputError(u)},m=()=>{window.utilitary.validateTelNumber(a,d,t)},S=()=>{window.utilitary.validateEmail(u,d)},_=e=>{d.tel||d.email?e.preventDefault():(e.preventDefault(),s.classList.add("popup--show"),document.addEventListener("keydown",w),n.addEventListener("click",y),window.utilitary.setLocalStorage("tel",a.value,c),window.utilitary.setLocalStorage("email",u.value,c),l.reset(),i.classList.remove("popup--show"))},k=e=>{window.utilitary.onOverLayClickModalClose(s,r,e)};l.addEventListener("submit",_),a.addEventListener("change",m),a.addEventListener("blur",m),u.addEventListener("change",S),u.addEventListener("blur",S),a.addEventListener("focus",L),u.addEventListener("focus",E),s.addEventListener("click",k),i.addEventListener("click",v),o.forEach(e=>{e.addEventListener("click",p)}),n.addEventListener("click",y)}