"use strict";{const e="+7",t=12,o=document.querySelectorAll(".button--buy"),i=document.querySelector(".popup--buy"),l=i.querySelector(".popup__close"),n=i.querySelector(".popup__inner"),r=n.querySelector(".popup__form"),a=r.querySelector(".popup__input--tel"),d=r.querySelector(".popup__input--email"),u=document.querySelector(".popup--success");let s={},c={};const p=e=>{e.preventDefault(),i.classList.contains("modal--show")||(i.classList.add("modal--show"),window.utilitary.setInputValuesFromLocalStorage(a,d)),document.addEventListener("keydown",w)},w=e=>{window.utilitary.onEscButtonPressModalClose(e)},y=()=>{window.utilitary.onCloseButtonModalClose(i)},v=e=>{window.utilitary.onOverLayClickModalClose(i,n,e)},L=()=>{a.value.length<2&&window.utilitary.setInputValue(e,a),window.utilitary.resetInputError(a)},E=()=>{window.utilitary.resetInputError(d)},m=()=>{window.utilitary.validateTelNumber(a,s,t)},S=()=>{window.utilitary.validateEmail(d,s)},_=e=>{s.tel||s.email?e.preventDefault():(e.preventDefault(),u.classList.add("modal--show"),document.addEventListener("keydown",w),l.addEventListener("click",y),window.utilitary.setLocalStorage("tel",a.value,c),window.utilitary.setLocalStorage("email",d.value,c),r.reset(),i.classList.remove("modal--show"))},k=e=>{window.utilitary.onOverLayClickModalClose(u,n,e)};r.addEventListener("submit",_),a.addEventListener("change",m),a.addEventListener("blur",m),d.addEventListener("change",S),d.addEventListener("blur",S),a.addEventListener("focus",L),d.addEventListener("focus",E),u.addEventListener("click",k),i.addEventListener("click",v),o.forEach(e=>{e.addEventListener("click",p)}),l.addEventListener("click",y)}