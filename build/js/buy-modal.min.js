"use strict";{const e="+7",t=12,l=document.querySelectorAll(".button--buy"),o=document.querySelector(".modal--buy"),a=o.querySelector(".modal__close"),i=o.querySelector(".modal__inner"),n=i.querySelector(".modal__form"),r=n.querySelector(".modal__input--tel"),d=n.querySelector(".modal__input--email"),s=document.querySelector(".modal--success");let u={},c={};const w=e=>{e.preventDefault(),o.classList.contains("modal--show")||(o.classList.add("modal--show"),window.utilitary.setInputValuesFromLocalStorage(r,d)),document.addEventListener("keydown",y)},y=e=>{window.utilitary.onEscButtonPressModalClose(e)},m=()=>{window.utilitary.onCloseButtonModalClose(o)},v=e=>{window.utilitary.onOverLayClickModalClose(o,i,e)},L=()=>{r.value.length<2&&window.utilitary.setInputValue(e,r),window.utilitary.resetInputError(r)},E=()=>{window.utilitary.resetInputError(d)},S=()=>{window.utilitary.validateTelNumber(r,u,t)},_=()=>{window.utilitary.validateEmail(d,u)},k=e=>{u.tel||u.email?e.preventDefault():(e.preventDefault(),s.classList.add("modal--show"),document.addEventListener("keydown",y),a.addEventListener("click",m),window.utilitary.setLocalStorage("tel",r.value,c),window.utilitary.setLocalStorage("email",d.value,c),n.reset(),o.classList.remove("modal--show"))},p=e=>{window.utilitary.onOverLayClickModalClose(s,i,e)};n.addEventListener("submit",k),r.addEventListener("change",S),r.addEventListener("blur",S),d.addEventListener("change",_),d.addEventListener("blur",_),r.addEventListener("focus",L),d.addEventListener("focus",E),s.addEventListener("click",p),o.addEventListener("click",v),l.forEach(e=>{e.addEventListener("click",w)}),a.addEventListener("click",m)}